<div class="content-wrapper" style="min-height: 100px; height: auto; overflow: visible; width: 100%;">
    <!-- Summary Cards -->
    <div class="col-md-12" style="width: 100%; padding-left: 0; padding-right: 0;">
        <div class="row" style="margin-bottom: 20px;">
            <div class="col-md-3">
                <div class="info-box bg-aqua">
                    <span class="info-box-icon"><i class="fa fa-database"></i></span>
                    <div class="info-box-content">
                        <span class="info-box-text">Total Keys</span>
                        <span class="info-box-number">{{humanizeComma .TotleNum}}</span>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="info-box bg-green">
                    <span class="info-box-icon"><i class="fa fa-hdd-o"></i></span>
                    <div class="info-box-content">
                        <span class="info-box-text">Total Memory</span>
                        <span class="info-box-number">{{humanizeBytes .TotleBytes}}</span>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="info-box bg-yellow">
                    <span class="info-box-icon"><i class="fa fa-files-o"></i></span>
                    <div class="info-box-content">
                        <span class="info-box-text">Data Types</span>
                        <span class="info-box-number">{{len .TypeNum}}</span>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="info-box bg-red">
                    <span class="info-box-icon"><i class="fa fa-file-text-o"></i></span>
                    <div class="info-box-content">
                        <span class="info-box-text">RDB File</span>
                        <span class="info-box-number" style="font-size: 14px;">{{.CurrentInstance}}</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Type Distribution Charts -->
    <div class="col-md-6" style="width: 50%; float: left; padding-left: 0; padding-right: 7.5px; clear: left;">
        <section class="content-header">
            <div class="box">
                <div class="box-header with-border">
                    <h3 class="box-title">Key Count by Type</h3>
                </div>
                <div class="box-body">
                    <div id="canvas-holder" style="width:100%; height: 300px;">
                        <canvas id="chart-area-0"></canvas>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <div class="col-md-6" style="width: 50%; float: left; padding-left: 7.5px; padding-right: 0;">
        <section class="content-header">
            <div class="box">
                <div class="box-header with-border">
                    <h3 class="box-title">Memory Usage by Type</h3>
                </div>
                <div class="box-body">
                    <div id="canvas-holder-1" style="width:100%; height: 300px;">
                        <canvas id="chart-area-1"></canvas>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Length Level Charts -->
    <div class="col-md-6" style="width: 50%; float: left; padding-left: 0; padding-right: 7.5px; clear: left;">
        <section class="content-header">
            <div class="box">
                <div class="box-header with-border">
                    <h3 class="box-title">Length Level Count</h3>
                </div>
                <div class="box-body">
                    <div class="nav-tabs-custom">
                        <ul id="len-num-head" class="nav nav-tabs">
                            {{range $type, $entries := .LenLevelCount}}
                            <li {{if isFirst}} class="active" {{end}}><a href="#bar0-{{$type}}" data-toggle="tab">{{$type}}</a></li>
                            {{end}} {{$null :=clearFirst}}
                        </ul>
                        <div class="tab-content panel-body">
                            {{range $type, $entries := .LenLevelCount}}
                            <div id="bar0-{{$type}}" class="tab-pane {{if isFirst}}active{{end}}">
                                <div id="bar0-container-{{$type}}" style="width:100%; height: 300px;">
                                    <canvas id="bar0-aera-{{$type}}"></canvas>
                                </div>
                            </div>
                            {{end}} {{$null :=clearFirst}}
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <div class="col-md-6" style="width: 50%; float: left; padding-left: 7.5px; padding-right: 0;">
        <section class="content-header">
            <div class="box">
                <div class="box-header with-border">
                    <h3 class="box-title">Length Level Memory Used</h3>
                </div>
                <div class="box-body">
                    <div class="nav-tabs-custom">
                        <ul id="len-mem-head" class="nav nav-tabs">
                            {{range $type, $entries := .LenLevelCount}}
                            <li {{if isFirst}} class="active" {{end}}><a href="#bar1-{{$type}}" data-toggle="tab">{{$type}}</a></li>
                            {{end}} {{$null :=clearFirst}}
                        </ul>
                        <div class="tab-content panel-body">
                            {{range $type, $entries := .LenLevelCount}}
                            <div id="bar1-{{$type}}" class="tab-pane {{if isFirst}}active{{end}}">
                                <div id="bar1-container-{{$type}}" style="width:100%; height: 300px;">
                                    <canvas id="bar1-aera-{{$type}}"></canvas>
                                </div>
                            </div>
                            {{end}} {{$null :=clearFirst}}
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Top 100 Largest Keys Table -->
    <div class="col-md-12" style="width: 100%; padding-left: 0; padding-right: 0; clear: both;">
        <section class="content-header">
            <div class="box">
                <div class="box-header with-border">
                    <h3 class="box-title">Top 100 Largest Keys</h3>
                    <div class="box-tools pull-right">
                        <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                    </div>
                </div>
                <div class="box-body">
                    <div class="table-responsive">
                        <table class="table table-condensed table-hover table-striped sortable" style="word-break:break-all; word-wrap:break-all;">
                            <thead>
                                <tr>
                                    <th class="sorttable_numeric">#</th>
                                    <th class="sorttable_alpha">Key</th>
                                    <th class="sorttable_alpha">Type</th>
                                    <th class="sorttable_numeric">Memory</th>
                                    <th class="sorttable_numeric">Elements</th>
                                </tr>
                            </thead>
                            <tbody>
                                {{range $index, $entry := .LargestKeys}}
                                <tr>
                                    <td>{{add $index 1}}</td>
                                    <td><code>{{$entry.Key}}</code></td>
                                    <td><span class="label label-info">{{$entry.Type}}</span></td>
                                    <td><strong>{{humanizeBytes $entry.Bytes}}</strong></td>
                                    <td>{{humanizeComma $entry.NumOfElem}}</td>
                                </tr>
                                {{end}}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Key Prefix Analysis -->
    <div class="col-md-12" style="width: 100%; padding-left: 0; padding-right: 0; clear: both;">
        <section class="content-header">
            <div class="box">
                <div class="box-header with-border">
                    <h3 class="box-title">Key Prefix Analysis</h3>
                    <div class="box-tools pull-right">
                        <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                    </div>
                </div>
                <div class="box-body">
                    <div class="nav-tabs-custom">
                        <ul class="nav nav-tabs">
                            {{range $type, $entries := .LargestKeyPrefixes}}
                            <li {{if isFirst}} class="active" {{end}}><a href="#type-{{$type}}" data-toggle="tab"><strong>{{$type}}</strong></a></li>
                            {{end}} {{$null :=clearFirst}}
                        </ul>
                        <div class="tab-content">
                            {{range $type, $entries := .LargestKeyPrefixes}}
                            <div id="type-{{$type}}" class="tab-pane {{if isFirst}}active{{end}}">
                                <div class="table-responsive">
                                    <table class="table table-condensed table-hover table-striped sortable" style="word-break:break-all; word-wrap:break-all;">
                                        <thead>
                                            <tr>
                                                <th class="sorttable_numeric">#</th>
                                                <th class="sorttable_alpha">Key Prefix</th>
                                                <th class="sorttable_numeric">Memory</th>
                                                <th class="sorttable_numeric">Number of Keys</th>
                                                <th>Memory Distribution</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            {{range $index, $entry := $entries}}
                                            <tr>
                                                <td>{{add $index 1}}</td>
                                                <td><code>{{$entry.Key}}</code></td>
                                                <td><strong>{{humanizeBytes $entry.Bytes}}</strong></td>
                                                <td>{{humanizeComma $entry.Num}}</td>
                                                <td>
                                                    <div class="progress progress-xs">
                                                        <div class="progress-bar progress-bar-success" style="width: {{percentage $entry.Bytes $.TotleBytes}}%"></div>
                                                    </div>
                                                </td>
                                            </tr>
                                            {{end}}
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            {{end}} {{$null :=clearFirst}}
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>
</div>

<style>
    .info-box {
        display: block;
        min-height: 90px;
        background: #fff;
        width: 100%;
        box-shadow: 0 1px 3px rgba(0,0,0,0.12);
        border-radius: 2px;
        margin-bottom: 15px;
    }
    .info-box-icon {
        border-top-left-radius: 2px;
        border-top-right-radius: 0;
        border-bottom-right-radius: 0;
        border-bottom-left-radius: 2px;
        display: block;
        float: left;
        height: 90px;
        width: 90px;
        text-align: center;
        font-size: 45px;
        line-height: 90px;
        background: rgba(0,0,0,0.2);
    }
    .info-box-content {
        padding: 5px 10px;
        margin-left: 90px;
    }
    .info-box-text {
        display: block;
        font-size: 14px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }
    .info-box-number {
        display: block;
        font-weight: bold;
        font-size: 18px;
    }
    .bg-aqua {
        background-color: #00c0ef !important;
        color: #fff !important;
    }
    .bg-green {
        background-color: #00a65a !important;
        color: #fff !important;
    }
    .bg-yellow {
        background-color: #f39c12 !important;
        color: #fff !important;
    }
    .bg-red {
        background-color: #dd4b39 !important;
        color: #fff !important;
    }
    .box {
        border-radius: 3px;
        box-shadow: 0 1px 3px rgba(0,0,0,0.12);
    }
    .box-header.with-border {
        border-bottom: 1px solid #f4f4f4;
    }
    .box-title {
        font-size: 18px;
        font-weight: 400;
    }

    /* Layout fixes to prevent overlapping */
    .content-wrapper > div[class*="col-"] {
        margin-bottom: 20px;
    }

    .content-wrapper::after {
        content: "";
        display: table;
        clear: both;
    }

    .content-wrapper {
        box-sizing: border-box;
    }

    .content-wrapper * {
        box-sizing: border-box;
    }
</style>
